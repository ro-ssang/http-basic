# 인터넷 네트워크
* 인터넷 통신
* IP(Internet Protocol)
* TCP, UDP
* PORT
* DNS

먼저 인터넷이 어떤 식으로 인터넷상에서 통신이 일어나는지 볼 것이다.
그걸 위해서 IP, TCP, UDP, PORT, DNS에 대해서 알아볼 것이다.
어 그런데 HTTP랑 웹 강의인데 왜 인터넷 네트워크에 대해서 알아보지? 라고 의문을 가질 수 있다.
결국 웹이나 HTTP도 결국 인터넷 네트워크망 기반에서 동작을 한다.
그래서 HTTP 학습을 위한 사전 네트워크에 대한 기본 학습이라고 이해하면 좋을 것 같다.

## 인터넷 통신
인터넷 상에서 컴퓨터 둘은 어떻게 통신을 할까?
예를들어 클라이언트와 서버가 바로 옆에 붙어 있다면 케이블을 연결해서 "Hello, world!"라는 메세지를 보내면 서버에서 OK라는 응답을 케이블로 받으면 될 것이다.
그런데 클라이언트와 서버 사이에 인터넷이라는게 중간에 있다. 만약에 메세지를 전달해야할 PC가 멀리 있다면, 예를들면 나는 한국에 사는데 메세지를 보내야하는 친구는 미국에 산다.
그러면 인터넷망을 통해서 "Hello, world!"라는 메세지를 보내야 한다. 그런데 이 인터넷이 단순하지 않다.
예를 들어, 중간에 해저 광케이블이 있을 수도 있고, 인공위성을 통해서 전달된다던지 수 많은 중간 노드들이라고 하는 서버들을 거쳐서 결국 메세지가 안전하게 넘어가야 한다.
여기서 도대체 어떤 규칙으로 어떻게 넘어갈까?
이것을 이해하려면 먼저 IP(인터넷 프로토콜)에 대해서 학습을 해야 한다.

🤔 노드라는 것은 무엇일까?
노드는 여러 의미로 사용되는데, 지금 같은 경우에는 출발지와 목적지 사이의 중계 서버(라우터)를 의미한다라고 생각하면 된다.

---

## IP(Internet Protocol)
복잡한 인터넷 망을 통해서 "Hello, world!"라는 메세지를 미국에 있는 친구에게 보내야한다.
그러면은 뭔가 최소한의 규칙이 있어야 하는데 IP 주소라는 것을 통해서 가능해진다.
먼저, 클라이언트인 내가 IP 주소를 부여 받아야 한다.(IP: 100.100.100.1 이라고 하자)
내가 메세지를 보내야 하는 친구도 서버에 IP 주소가 있어야 한다.(IP: 200.200.200.2 이라고 하자)

### IP(인터넷 프로토콜)의 역할은?
* 지정한 IP 주소(IP Address)에 데이터 전달할 수 있도록한 규칙
* 패킷(Packet)이라는 통신 단위로 데이터 전달하게 된다.

### IP 패킷 정보
메세지를 그냥 보내는게 아니라 IP 패킷이라는 규칙이 있다.
IP 패킷이라는 것은 메세지 즉 전송 데이터("Hello, world!")를 넣을 건데, 그걸 하기 전에 먼저 출발지 IP(나의 IP), 목적지 IP, 기타...를 적어서 IP 패킷을 만든다.

#### 클라이언트 패킷 전달
그 다음에 인터넷 망에 던진다. 그러면 IP 프로토콜에 의해서 서버들이 이 규약을 따르고 있다. 그래서 노드(서버)들이 출발지는 어디고 목적지는 어딘지 이해를 하게 된다.
그래서 노드들이 서로 던지게 되는데 200.200.200.2를 받을 수 있는 서버는 어디야? 하면서 쭉 던지다 보면 결국 미국에 있는 친구(200.200.200.2)에게까지 정확하게 도달하게 된다.

#### 서버 패킷 전달
미국에 있는 친구가 메세지를 받게 된다면, 출발지 IP(200.200.200.2)랑 목적지 IP(100.100.100.1)와 메세지 OK를 넣어서 IP 패킷을 만들어서 인터넷 망에 던지게 된다면 적절하게 노드들이 계속 100.100.100.1번 IP를 받을 수 있는 곳은 어디에요 서로 물어가면서 던지면 최종적으로 나한테 돌아오게 된다.

참고로 내가 친구한테 던질 때랑, 친구가 나한테 던질 때랑 즉 요청할 때랑 응답할 떄랑 서로 다른 곳을 통해서 전달될 수도 있다.(인터넷 망이 복잡하기 때문에)

### IP 프로토콜의 한계
* 비연결성
  * 패킷을 받을 대상이 없거나 서비스 불능 상태(예를들어 PC가 꺼져있다)여도 패킷을 전송한다. -> 나는 그 사람이 받았는지 안받았는지 모른다는 한계가 있다.
* 비신뢰성
  * 중간에 패킷이 사라지면?
  * 패킷이 순서대로 안오면?
* 프로그램 구분
  * 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이라면?

#### 대상이 서비스 불능, 패킷 전송
대상 서버가 패킷을 받을 수 있는 상태인지 모르는데도 IP 패킷을 보낸다. 즉, 클라이언트는 대상 서버가 이 패킷을 받을 수 있는 상태인지 아닌지 모른다.
#### 패킷 손실
결국 인터넷이라는게 특별한게 아니고 서버들을 거쳐서 전달이 된다. 만약 중간에 있는 서버가 문제가 생겼다면 내가 보낸 패킷이 유실될 수도 있다.
#### 패킷 전달 순서 문제 발생
만약 패킷의 용량이 크다면 한번에 많은 것을 보내기 부담스러우니까 보통 나눠서 보낸다.(예를들어 1: "Hello,", 2: "world!")
이 나눠진 패킷들을 인터넷 망에 던지면 이 패킷들이 중간에 다른 노드들을 탈 수도 있다. 이렇게 되면 1, 2 순서로 보내었지만 2, 1 순서로 도착할 수도 있다.
그러면 받는 쪽에서는 ("wolrd! Hello,")라는 메세지를 받게 되어 나의 의도와는 다르게 전달될 수도 있다.

그래서 IP 프로토콜만으로는 위의 문제를 해결할 수가 없다. 이 문제를 해결해줄 수 있는 것이 바로 TCP, UDP 프로토콜이다.

🤔 클라이언트와 서버라는 것은 무엇일까?
클라이언트 서버라는 단어가 가지는 여러가지 의미가 있는데 실제 물리적인 서버도 있지만, **요청자: 클라이언트, 요청 메세지를 받는 곳: 서버** 라고 이해하면 된다.
강의에서 이야기하는 내용은 메세지를 보내는 나의 PC에 설치된 애플리케이션이 클라이언트이고, 친구의 PC에 설치된 애플리케이션이 서버라고 이해하면 된다.

---

## TCP, UDP
